<button class="btn btn-default"
        (click)="apptFormOpen = !apptFormOpen">Add Appointment</button>


<div *ngIf="apptFormOpen === true"  class="container">
    <h1>Add New Appointment</h1>
    <form>
        <div class="form-group">
            <label for="subject">Subject</label>
            <select (change)="filterTeachers($event.target.value)" [(ngModel)] = "apptModel.subjectid">
                <option *ngFor="let subject of subjects" [value]="subject.id">{{subject.name}}</option>
            </select>
        </div>

        <div class="form-group">
            <label for="teacher">Teacher</label>
            <select [(ngModel)] = "apptModel.teacherid">
                <option *ngFor="let teacher of teachers" [value]="teacher.userid">{{teacher.name}}</option>
            </select>
        </div>

        <div class="form-group">
            <label for="date">Date</label>
            <input 
                [(ngModel)]="apptModel.date"
                type="date">
        </div>
        <div class="form-group">
             <label for="time">Time</label>
            <input 
                [(ngModel)]="apptModel.time"
                type="time">
        </div>
        <div class ="form-group">
            <button type="submit"
                    class="btn btn-primary"
                    (click)="addAppointment(apptModel); apptFormOpen=false"
                    >Add Appointment</button>
        </div>
    </form>
</div>

<button class="btn btn-default"
        (click)="getAppointments(); apptListOpen = !apptListOpen">Get Appointments</button>
<div *ngIf="apptListOpen === true" class="container">
    <div class="appointment-list col-xs-5" >
    <h1>Confirmed Appointments</h1>
        <div class="filtered" *ngIf="filter === true">
            <div class="appointments"  *ngFor="let appointment of appointments | filterdate:inputDate | confirmedStudent:true">
                    <h3>Subject: {{ appointment.name }}</h3>
                    <p>Date: {{ appointment.start | date:'fullDate'  }}
                    <p>Time: {{ appointment.start | date: 'shortTime' }}
                    <p>Tutor: {{ appointment.username }}</p>
                    <button class="btn btn-default" (click)="removeAppt(appointment.id)">Remove</button>
            </div>
        </div>
        <div class="showAll" *ngIf="filter === false">
            <div class="appointments"  *ngFor="let appointment of appointments | confirmedStudent:true">
                    <h3>Subject: {{ appointment.name }}</h3>
                    <p>Date: {{ appointment.start | date:'fullDate'  }}
                    <p>Time: {{ appointment.start | date: 'shortTime' }}
                    <p>Tutor: {{ appointment.username }}</p>
                    <button class="btn btn-default" (click)="removeAppt(appointment.id)">Remove</button>
            </div>
        </div>
        <h1>Pending Appointments</h1>
        <div class="showAll">
            <div class="appointments"  *ngFor="let appointment of appointments | confirmedStudent:false">
                    <h3>Subject: {{ appointment.name }}</h3>
                    <p>Date: {{ appointment.start | date:'fullDate'  }}
                    <p>Time: {{ appointment.start | date: 'shortTime' }}
                    <p>Tutor: {{ appointment.username }}</p>
                    <button class="btn btn-default" (click)="removeAppt(appointment.id)">Remove</button>
            </div>
        </div>
    </div>
     <div class="date-filter col-xs-5"> 
            <input type="date" [(ngModel)]="inputDate">
            <button *ngIf="filter === true" (click)="filter = false">Show All Appointments</button>
            <button *ngIf="filter === false" (click)="filter = true">Filter by Date</button>
    </div>
</div>


